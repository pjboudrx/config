<html>
	<head>
		<title>Release Countdown</title>
		<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
		<script type="text/javascript">
		one_second=1000
		one_minute=one_second*60
		one_hour=one_minute*60
		one_day=one_hour*24
		one_week=one_day*7
			$(function(){
				update();
			});
			function update()
			{
				today=new Date()
				var releaseDay=new Date(2010, 06, 21) //Month is 0-11 in JavaScript

				var millisecondsLeft = releaseDay.getTime()-today.getTime();
				var weeksLeft = Math.floor((millisecondsLeft)/(one_week));
				
				var delta = millisecondsLeft-(weeksLeft*one_week);
				var daysLeft = Math.floor((delta)/(one_day));
				
				var totalRemainingDays = Math.floor(millisecondsLeft/one_day);
				if(totalRemainingDays <= 2)
				{	
					$('body').css('background-color', '#ff0000');
				}
				else if(totalRemainingDays <= 7)
				{	
					$('body').css('background-color', '#880000');
				}
				else if(totalRemainingDays <= 14)
				{	
					$('body').css('background-color', '#440000');
				}
				else if(totalRemainingDays <= 21)
				{	
					$('body').css('background-color', '#220000');
				}
				else if(totalRemainingDays <= 30)
				{	
					$('body').css('background-color', '#110000');
				}
				
				delta = delta-(daysLeft*one_day);
				var hoursLeft = Math.floor((delta)/one_hour)
				
				delta = delta-(hoursLeft*one_hour);
				var minutesLeft = Math.floor(delta/one_minute)
				
				delta = delta-(minutesLeft*one_minute);
				var secondsLeft = Math.floor(delta/one_second)
				
				
				
				$('#weeks').text(weeksLeft);
				$('#days').text(daysLeft);
				$('#hours').text(hoursLeft);
				$('#minutes').text(minutesLeft);
				$('#seconds').text(secondsLeft);
				
				setTimeout("update()",1000);
			}
		</script>
		<style type="text/css">
			body
			{
				background-color:#000000;
				font-family:verdana,sans-serif;
			}
			#wrapper
			{
			}
			#status 
			{
				width:100%;
				color:#ffffff;
				font-weight:bold;
				font-size:6.5em;
			}
			#status .unit
			{
				width:50%;
				padding-right:.5em;
				text-align:right;
			}
			#status .label
			{
				width:50%;
				text-align:left;
			}
		</style>
	</head>

	<body>
		<div id="wrapper">
			<table id="status">
				<tbody>
					<tr><td id="weeks" class="unit"></td><td class="label">weeks</td></tr>
					<tr><td id="days" class="unit"></td><td class="label">days</td></tr>
					<tr><td id="hours" class="unit"></td><td class="label">hours</td></tr>
					<tr><td id="minutes" class="unit"></td><td class="label">minutes</td></tr>
					<tr><td id="seconds" class="unit"></td><td class="label">seconds</td></tr>
				</tbody>
			<table>
		</div>
	</body>
</html>